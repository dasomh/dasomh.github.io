{% include base_path %}

{% if page.author and site.data.authors[page.author] %}
  {% assign author = site.data.authors[page.author] %}{% else %}{% assign author = site.author %}
{% endif %}

<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    {% if author.avatar contains "://" %}
    	<img src="{{ author.avatar }}" alt="{{ author.name }}">
    {% else %}
    	<img src="{{ author.avatar | prepend: "/images/" | prepend: base_path }}" class="author__avatar" alt="{{ author.name }}" style="border-radius: 0;">
    {% endif %}
  </div>

  <div class="author__content">
    <h3 class="author__name">{{ author.name }}</h3>
    {% if author.pronouns %}<p class="author__pronouns">{{ author.pronouns }}</p>{% endif %}
    {% if author.bio %}<p class="author__bio">{{ author.bio }}</p>{% endif %}
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons" style="display: none;">
      <!-- Font Awesome icons / Biographic information  -->
      {% if author.location %}
        <li class="author__desktop"><i class="fa-solid fa-location-dot icon-pad-right" aria-hidden="true"></i>{{ author.location }}</li>
      {% endif %}
      {% if author.employer %}
        <li class="author__desktop"><i class="fas fa-fw fa-building-columns icon-pad-right" aria-hidden="true"></i>{{ author.employer }}</li>
      {% endif %}
      {% if author.uri %}
        <li><a href="{{ author.uri }}"><i class="fas fa-fw fa-link icon-pad-right" aria-hidden="true"></i>{{ site.data.ui-text[site.locale].website_label | default: "Website" }}</a></li>
      {% endif %}
      {% if author.email %}
        <li><a href="mailto:{{ author.email }}"><i class="fas fa-fw fa-envelope icon-pad-right" aria-hidden="true"></i>{{ site.data.ui-text[site.locale].email_label | default: "Email" }}</a></li>
      {% endif %}

      <!-- 추가 소셜 미디어 아이콘 및 링크들 -->
    </ul>

    <!-- Schedule an appointment 버튼 -->
    <a href="https://calendly.com/dasomhan/30min?preview_source=et_card&month=2024-10" 
       class="btn btn--inverse" 
       style="display: inline-block; background-color: #007bff; color: #e3e7f3 !important; padding: 10px 20px; text-decoration: none; border-radius: 5px; transition: font-size 0.3s ease;">
      Schedule an Appointment
    </a>
  </div>
</div>

<!-- Follow 버튼 클릭 시 소셜 아이콘 토글 -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const followButton = document.querySelector('.btn--inverse');
    const socialIcons = document.querySelector('.social-icons');

    followButton.addEventListener('click', function() {
      if (socialIcons.style.display === 'none' || !socialIcons.style.display) {
        socialIcons.style.display = 'block';
      } else {
        socialIcons.style.display = 'none';
      }
    });
  });
</script>
